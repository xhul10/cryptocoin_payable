  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (19.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 03:30:49 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:30:49 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.1ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 03:31:52 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:31:52 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.9ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 03:32:30 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:32:30 UTC +00:00]]
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "bitcoin_payments" ("created_at", "payable_id", "payable_type", "reason", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 10 May 2014 03:32:30 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["updated_at", Sat, 10 May 2014 03:32:30 UTC +00:00]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (9.9ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 03:33:17 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:33:17 UTC +00:00]]
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "bitcoin_payments" ("created_at", "payable_id", "payable_type", "reason", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 10 May 2014 03:33:17 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["updated_at", Sat, 10 May 2014 03:33:17 UTC +00:00]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (14.1ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 03:33:55 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:33:55 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("created_at", "payable_id", "payable_type", "reason", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 10 May 2014 03:33:55 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["updated_at", Sat, 10 May 2014 03:33:55 UTC +00:00]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (13.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 03:34:16 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:34:16 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("created_at", "payable_id", "payable_type", "reason", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 10 May 2014 03:34:16 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["updated_at", Sat, 10 May 2014 03:34:16 UTC +00:00]]
  [1m[35mSQL (3.2ms)[0m  UPDATE "bitcoin_payments" SET "payable_id" = ?, "payable_type" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["created_at", Sat, 10 May 2014 03:34:16 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:34:16 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.6ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (15.6ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 03:34:44 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:34:44 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("created_at", "payable_id", "payable_type", "reason", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 10 May 2014 03:34:44 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["updated_at", Sat, 10 May 2014 03:34:44 UTC +00:00]]
  [1m[35mSQL (3.5ms)[0m  UPDATE "bitcoin_payments" SET "payable_id" = ?, "payable_type" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["created_at", Sat, 10 May 2014 03:34:44 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:34:44 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.6ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (13.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 03:35:51 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:35:51 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (13.5ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 03:36:20 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:36:20 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["amount_due", 1], ["created_at", Sat, 10 May 2014 03:36:20 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["updated_at", Sat, 10 May 2014 03:36:20 UTC +00:00]]
  [1m[35mSQL (3.5ms)[0m  UPDATE "bitcoin_payments" SET "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sat, 10 May 2014 03:36:20 UTC +00:00], ["updated_at", Sat, 10 May 2014 03:36:20 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.6ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.9ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sat, 10 May 2014 13:00:00 UTC +00:00], ["updated_at", Sat, 10 May 2014 13:00:00 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["amount_due", 1], ["created_at", Sat, 10 May 2014 13:00:00 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sat, 10 May 2014 13:00:00 UTC +00:00]]
  [1m[35mSQL (1.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sat, 10 May 2014 13:00:00 UTC +00:00], ["updated_at", Sat, 10 May 2014 13:00:00 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 11 May 2014 02:06:49 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:06:49 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:06:49 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:06:49 UTC +00:00]]
  [1m[35mSQL (1.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:06:49 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:06:49 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.9ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 11 May 2014 02:10:31 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:10:31 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:10:32 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:10:32 UTC +00:00]]
  [1m[35mSQL (1.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:10:32 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:10:32 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 11 May 2014 02:10:41 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:10:41 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:10:42 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:10:42 UTC +00:00]]
  [1m[35mSQL (1.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:10:42 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:10:42 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.7ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 11 May 2014 02:11:08 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:11:08 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:11:08 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:11:08 UTC +00:00]]
  [1m[35mSQL (1.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:11:08 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:11:08 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.5ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 11 May 2014 02:11:52 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:11:52 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:11:52 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:11:52 UTC +00:00]]
  [1m[35mSQL (1.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:11:52 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:11:52 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51200], ["created_at", Sun, 11 May 2014 02:20:18 UTC +00:00], ["currency", 0.8578170631160777], ["updated_at", Sun, 11 May 2014 02:20:18 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90100], ["created_at", Sun, 11 May 2014 02:20:18 UTC +00:00], ["currency", 0.9706639063129414], ["updated_at", Sun, 11 May 2014 02:20:18 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93500], ["created_at", Sun, 11 May 2014 02:20:18 UTC +00:00], ["currency", 0.9371429324436539], ["updated_at", Sun, 11 May 2014 02:20:18 UTC +00:00]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:20:18 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:20:18 UTC +00:00]]
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:20:18 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:20:18 UTC +00:00]]
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:20:18 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:20:18 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.6ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75100], ["created_at", Sun, 11 May 2014 02:20:19 UTC +00:00], ["currency", 0.8506983164848778], ["updated_at", Sun, 11 May 2014 02:20:19 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 68500], ["created_at", Sun, 11 May 2014 02:20:19 UTC +00:00], ["currency", 0.8817061530000921], ["updated_at", Sun, 11 May 2014 02:20:19 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58000], ["created_at", Sun, 11 May 2014 02:20:19 UTC +00:00], ["currency", 0.9173638659566364], ["updated_at", Sun, 11 May 2014 02:20:19 UTC +00:00]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (11.1ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 95400], ["created_at", Sun, 11 May 2014 02:21:21 UTC +00:00], ["currency", 0.8980104722815504], ["updated_at", Sun, 11 May 2014 02:21:21 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60500], ["created_at", Sun, 11 May 2014 02:21:21 UTC +00:00], ["currency", 0.9079270235059269], ["updated_at", Sun, 11 May 2014 02:21:21 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70200], ["created_at", Sun, 11 May 2014 02:21:21 UTC +00:00], ["currency", 0.9758068056899297], ["updated_at", Sun, 11 May 2014 02:21:21 UTC +00:00]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:21:21 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:21:21 UTC +00:00]]
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:21:22 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:21:22 UTC +00:00]]
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:21:22 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:21:22 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81800], ["created_at", Sun, 11 May 2014 02:21:22 UTC +00:00], ["currency", 0.8775630551291411], ["updated_at", Sun, 11 May 2014 02:21:22 UTC +00:00]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63500], ["created_at", Sun, 11 May 2014 02:21:22 UTC +00:00], ["currency", 0.9142571902633938], ["updated_at", Sun, 11 May 2014 02:21:22 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86200], ["created_at", Sun, 11 May 2014 02:21:22 UTC +00:00], ["currency", 0.8752181538283208], ["updated_at", Sun, 11 May 2014 02:21:22 UTC +00:00]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.9ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51300], ["created_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["currency", 0.8735031149742931], ["updated_at", Sun, 11 May 2014 02:22:23 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55600], ["created_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["currency", 0.8631642193257458], ["updated_at", Sun, 11 May 2014 02:22:23 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73100], ["created_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["currency", 0.9076797299683008], ["updated_at", Sun, 11 May 2014 02:22:23 UTC +00:00]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:22:23 UTC +00:00]]
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:22:23 UTC +00:00]]
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61200], ["created_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["currency", 0.9845952754845986], ["updated_at", Sun, 11 May 2014 02:22:23 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85500], ["created_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["currency", 0.932582214190506], ["updated_at", Sun, 11 May 2014 02:22:23 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87900], ["created_at", Sun, 11 May 2014 02:22:23 UTC +00:00], ["currency", 0.8604322240460066], ["updated_at", Sun, 11 May 2014 02:22:23 UTC +00:00]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51000], ["created_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["currency", 0.8501485172573282], ["updated_at", Sun, 11 May 2014 02:23:42 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84200], ["created_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["currency", 0.880111444963607], ["updated_at", Sun, 11 May 2014 02:23:42 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92700], ["created_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["currency", 0.9732516663460977], ["updated_at", Sun, 11 May 2014 02:23:42 UTC +00:00]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:23:42 UTC +00:00]]
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:23:42 UTC +00:00]]
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.6ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91100], ["created_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["currency", 0.9028040443940556], ["updated_at", Sun, 11 May 2014 02:23:42 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82000], ["created_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["currency", 0.9108702949168436], ["updated_at", Sun, 11 May 2014 02:23:42 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68500], ["created_at", Sun, 11 May 2014 02:23:42 UTC +00:00], ["currency", 0.9870078849312058], ["updated_at", Sun, 11 May 2014 02:23:42 UTC +00:00]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51100], ["created_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["currency", 0.9360725158467154], ["updated_at", Sun, 11 May 2014 02:25:34 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83500], ["created_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["currency", 0.8806430584371047], ["updated_at", Sun, 11 May 2014 02:25:34 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67100], ["created_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["currency", 0.8713268810683893], ["updated_at", Sun, 11 May 2014 02:25:34 UTC +00:00]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:25:34 UTC +00:00]]
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:25:34 UTC +00:00]]
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.6ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92700], ["created_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["currency", 0.8624756214798596], ["updated_at", Sun, 11 May 2014 02:25:34 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66200], ["created_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["currency", 0.8606727179082718], ["updated_at", Sun, 11 May 2014 02:25:34 UTC +00:00]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81300], ["created_at", Sun, 11 May 2014 02:25:34 UTC +00:00], ["currency", 0.9373236341141682], ["updated_at", Sun, 11 May 2014 02:25:34 UTC +00:00]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.7ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90300], ["created_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["currency", 0.9113384075245509], ["updated_at", Sun, 11 May 2014 02:35:57 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55500], ["created_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["currency", 0.8678163782561501], ["updated_at", Sun, 11 May 2014 02:35:57 UTC +00:00]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 75700], ["created_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["currency", 0.8951336761458979], ["updated_at", Sun, 11 May 2014 02:35:57 UTC +00:00]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:35:57 UTC +00:00]]
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:35:57 UTC +00:00]]
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.6ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76400], ["created_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["currency", 0.9767670320506233], ["updated_at", Sun, 11 May 2014 02:35:57 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92200], ["created_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["currency", 0.9079781376776078], ["updated_at", Sun, 11 May 2014 02:35:57 UTC +00:00]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60100], ["created_at", Sun, 11 May 2014 02:35:57 UTC +00:00], ["currency", 0.8677075758873352], ["updated_at", Sun, 11 May 2014 02:35:57 UTC +00:00]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96200], ["created_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["currency", 0.9051221944959581], ["updated_at", Sun, 11 May 2014 02:43:53 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65000], ["created_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["currency", 0.8994901924807978], ["updated_at", Sun, 11 May 2014 02:43:53 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91200], ["created_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["currency", 0.9012425012730593], ["updated_at", Sun, 11 May 2014 02:43:53 UTC +00:00]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:43:53 UTC +00:00]]
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:43:53 UTC +00:00]]
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76800], ["created_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["currency", 0.9377205348810069], ["updated_at", Sun, 11 May 2014 02:43:53 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 76200], ["created_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["currency", 0.9657741826523405], ["updated_at", Sun, 11 May 2014 02:43:53 UTC +00:00]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78300], ["created_at", Sun, 11 May 2014 02:43:53 UTC +00:00], ["currency", 0.9156398020259432], ["updated_at", Sun, 11 May 2014 02:43:53 UTC +00:00]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (9.9ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69400], ["created_at", Sun, 11 May 2014 02:46:24 UTC +00:00], ["currency", 0.9196844842574805], ["updated_at", Sun, 11 May 2014 02:46:24 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57700], ["created_at", Sun, 11 May 2014 02:46:24 UTC +00:00], ["currency", 0.9436869587291357], ["updated_at", Sun, 11 May 2014 02:46:24 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58400], ["created_at", Sun, 11 May 2014 02:46:24 UTC +00:00], ["currency", 0.8683503215231916], ["updated_at", Sun, 11 May 2014 02:46:24 UTC +00:00]]
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:46:24 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:46:24 UTC +00:00]]
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:46:25 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:46:25 UTC +00:00]]
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:46:25 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:46:25 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75200], ["created_at", Sun, 11 May 2014 02:46:25 UTC +00:00], ["currency", 0.9813067055927276], ["updated_at", Sun, 11 May 2014 02:46:25 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97500], ["created_at", Sun, 11 May 2014 02:46:25 UTC +00:00], ["currency", 0.9665423861912221], ["updated_at", Sun, 11 May 2014 02:46:25 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59600], ["created_at", Sun, 11 May 2014 02:46:25 UTC +00:00], ["currency", 0.9612648820031464], ["updated_at", Sun, 11 May 2014 02:46:25 UTC +00:00]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 81800], ["created_at", Sun, 11 May 2014 02:46:25 UTC +00:00], ["currency", 0.8608170961645252], ["updated_at", Sun, 11 May 2014 02:46:25 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74800], ["created_at", Sun, 11 May 2014 02:46:25 UTC +00:00], ["currency", 0.9171792622573469], ["updated_at", Sun, 11 May 2014 02:46:25 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60500], ["created_at", Sun, 11 May 2014 02:46:25 UTC +00:00], ["currency", 0.9687722328081118], ["updated_at", Sun, 11 May 2014 02:46:25 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (12.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83500], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["currency", 0.9864293897062377], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63300], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["currency", 0.9203464734313869], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73400], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["currency", 0.915333578677736], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.6ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61800], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["currency", 0.9253312997007864], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66400], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["currency", 0.9331761007687828], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70900], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["currency", 0.8813728134403798], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72900], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["currency", 0.8579256503392949], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86000], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["currency", 0.8947972272667735], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82700], ["created_at", Sun, 11 May 2014 02:46:44 UTC +00:00], ["currency", 0.9724793137354749], ["updated_at", Sun, 11 May 2014 02:46:44 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97800], ["created_at", Sun, 11 May 2014 02:46:55 UTC +00:00], ["currency", 0.9189739417235782], ["updated_at", Sun, 11 May 2014 02:46:55 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95900], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["currency", 0.9446952299604742], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77200], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["currency", 0.9176936333661497], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "bitcoin_payments" ("amount_due", "created_at", "payable_id", "payable_type", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["amount_due", 1], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["state", "pending"], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "reason" = ?, "amount_due" = ?, "created_at" = ?, "updated_at" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["reason", "New Payment"], ["amount_due", 1], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["id", 1], ["address", "1AZW6GGmsUizkHhrtg853Qnxk68vCx2gFq"]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.6ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91800], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["currency", 0.9568051819223246], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55000], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["currency", 0.9161729638080963], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67200], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["currency", 0.9775238799800321], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 59900], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["currency", 0.9478983120520591], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68300], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["currency", 0.9284957010231287], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82700], ["created_at", Sun, 11 May 2014 02:46:56 UTC +00:00], ["currency", 0.9820901130103604], ["updated_at", Sun, 11 May 2014 02:46:56 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.9ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70400], ["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["currency", 0.9617155860427022], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60000], ["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["currency", 0.9684475546455416], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70700], ["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["currency", 0.9357817087564307], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92000], ["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["currency", 0.9739837896018257], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73800], ["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["currency", 0.8796304637300221], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92700], ["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["currency", 0.9843044904842249], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 80800], ["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["currency", 0.9519808617475592], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53900], ["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["currency", 0.9403503441024212], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 79300], ["created_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00], ["currency", 0.9412189872976529], ["updated_at", Tue, 02 Sep 2014 21:27:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 73600], ["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["currency", 0.9128498898398685], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90600], ["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["currency", 0.8614850337911321], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69900], ["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["currency", 0.9722186398628292], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57100], ["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["currency", 0.9447776143916219], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 54300], ["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["currency", 0.9356749850614291], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50700], ["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["currency", 0.9478422364657106], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 79500], ["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["currency", 0.85196138523594], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91400], ["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["currency", 0.8662706635329144], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71900], ["created_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00], ["currency", 0.9065586584856863], ["updated_at", Tue, 02 Sep 2014 21:35:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51100], ["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["currency", 0.9308907360764881], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78700], ["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["currency", 0.9854717800905237], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69200], ["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["currency", 0.9783881803298368], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57900], ["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["currency", 0.8988016414248473], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93900], ["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["currency", 0.9192022634374403], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84900], ["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["currency", 0.9697739760650322], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 88800], ["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["currency", 0.9129033375819934], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71600], ["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["currency", 0.8546156449362206], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90500], ["created_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00], ["currency", 0.9729689694796855], ["updated_at", Tue, 02 Sep 2014 21:36:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65800], ["created_at", Tue, 02 Sep 2014 21:37:29 UTC +00:00], ["currency", 0.9448460146705733], ["updated_at", Tue, 02 Sep 2014 21:37:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61700], ["created_at", Tue, 02 Sep 2014 21:37:29 UTC +00:00], ["currency", 0.9206965875332364], ["updated_at", Tue, 02 Sep 2014 21:37:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68600], ["created_at", Tue, 02 Sep 2014 21:37:29 UTC +00:00], ["currency", 0.8932962947738605], ["updated_at", Tue, 02 Sep 2014 21:37:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:37:29 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:37:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95300], ["created_at", Tue, 02 Sep 2014 21:37:54 UTC +00:00], ["currency", 0.9248038362415871], ["updated_at", Tue, 02 Sep 2014 21:37:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93800], ["created_at", Tue, 02 Sep 2014 21:37:54 UTC +00:00], ["currency", 0.9492701718451242], ["updated_at", Tue, 02 Sep 2014 21:37:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84100], ["created_at", Tue, 02 Sep 2014 21:37:54 UTC +00:00], ["currency", 0.9513195557657887], ["updated_at", Tue, 02 Sep 2014 21:37:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:37:54 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:37:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90000], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", 0.8515839329183684], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 76900], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", 0.9587358810520743], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80800], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", 0.980408384988509], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.2e-07], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96300], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", 0.9771672426035717], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65400], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", 0.917146170667377], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77100], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", 0.9217068132812358], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86500], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", 0.8538914466871746], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55800], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", 0.9364196535627113], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 68400], ["created_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00], ["currency", 0.9532082267818581], ["updated_at", Tue, 02 Sep 2014 21:38:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65500], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", 0.9295709220001149], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85600], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", 0.9243920927940183], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61300], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", 0.9046354234784775], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.6e-07], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84500], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", 0.8565400294114477], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92600], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", 0.943262933000611], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89700], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", 0.9261840884715086], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69000], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", 0.9116682086312852], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62100], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", 0.9054347504462418], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97500], ["created_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00], ["currency", 0.9317706152792292], ["updated_at", Tue, 02 Sep 2014 21:39:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78600], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", 0.9632107409491872], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86600], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", 0.9013328233189478], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79600], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", 0.9296058890072351], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.3e-07], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.3e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81600], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", 0.8749071511208156], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55700], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", 0.9042558195231938], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50200], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", 0.9519565667578286], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60300], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", 0.916015321003546], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79400], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", 0.9587283257087381], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 76300], ["created_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00], ["currency", 0.9585022727842083], ["updated_at", Tue, 02 Sep 2014 21:40:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78900], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", 0.9173942182970232], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52500], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", 0.8981280093676506], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67100], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", 0.9244605727634267], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.5e-07], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.5e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81900], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", 0.9166912368783888], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57200], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", 0.9428988096038201], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50300], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", 0.8767934951382491], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61200], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", 0.9521972251350868], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89200], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", 0.8859247265438328], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60900], ["created_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00], ["currency", 0.8544460769302218], ["updated_at", Tue, 02 Sep 2014 21:40:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66100], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", 0.8946771477957205], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 84300], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", 0.8650126710392397], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64000], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", 0.9517947430046457], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.4ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.6e-07], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.6e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57700], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", 0.9718058421443306], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67800], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", 0.9615661845229652], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58500], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", 0.984568118578782], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69600], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", 0.8636496062591619], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91700], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", 0.9343455505882332], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 98300], ["created_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00], ["currency", 0.9664637602769559], ["updated_at", Tue, 02 Sep 2014 21:41:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77700], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", 0.9632493286185544], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60000], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", 0.8863323036538882], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58800], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", 0.9111317530456425], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.7e-07], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.7e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81000], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", 0.8581897927903779], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86300], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", 0.9596332586443878], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55200], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", 0.8734130011503842], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78000], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", 0.9337487062810531], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80700], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", 0.8691352396886473], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66800], ["created_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00], ["currency", 0.869821977996655], ["updated_at", Tue, 02 Sep 2014 21:41:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53600], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", 0.922869276253948], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83600], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", 0.8951407291501655], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77700], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", 0.8824692071167249], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.3e-07], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.3e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76600], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", 0.9128744282740487], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86200], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", 0.8843259519267117], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71700], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", 0.9452282465890408], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.4e-07], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:43:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.4e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74000], ["created_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00], ["currency", 0.8725481758291912], ["updated_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65500], ["created_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00], ["currency", 0.8545551082695538], ["updated_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69200], ["created_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00], ["currency", 0.8658717269249757], ["updated_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69200], ["created_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00], ["currency", 0.95453986198878], ["updated_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98100], ["created_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00], ["currency", 0.9671460591724463], ["updated_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51100], ["created_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00], ["currency", 0.8641663308408508], ["updated_at", Tue, 02 Sep 2014 21:43:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62600], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.9387718572211976], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63300], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.8869966834083575], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51400], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.9167783153325422], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.9e-07], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.9e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95400], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.8587363211082666], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66300], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.9578687886011369], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59800], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.968110941166941], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.7e-07], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.7e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95600], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.8720604268917997], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65600], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.9568234971749872], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79300], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.8959084931071337], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.3e-07], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.3e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67900], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.9493382924906769], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97700], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.8632197654491992], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64600], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.8510883665743644], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67300], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.9836090572625883], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54800], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.9056053465141566], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 79900], ["created_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00], ["currency", 0.9021380869075065], ["updated_at", Tue, 02 Sep 2014 21:44:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78800], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9076069064368136], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52000], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.8938663203998651], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50200], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9759972569896675], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 2.0e-07], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", :cad], ["btc_amount_due", 2.0e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64200], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9645264579525068], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97000], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9686334257018032], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62900], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.8983930149201581], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.6e-07], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.6e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.6ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51400], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.8861947192581386], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92900], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9881947289174714], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84700], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9282557569830746], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.2e-07], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.2e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85300], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9574187690275805], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 53100], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.8694037399965101], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91200], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9088883065077289], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 64900], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.8948935941097461], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83100], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9565100024616604], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93500], ["created_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00], ["currency", 0.9893013980771146], ["updated_at", Tue, 02 Sep 2014 21:48:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86700], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9127041557425112], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82900], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.8641655508411521], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65000], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9758893702312909], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.5e-07], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.5e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 97900], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9612271186591764], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 64600], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9390825875885221], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66900], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9541061801523734], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.5e-07], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.5e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82700], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.8571052002014223], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67900], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9349294462032767], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85200], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.8762948435518639], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.2e-07], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.2e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58400], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9895310855393591], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83400], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9051804209761968], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80200], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.8528574407335677], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82900], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.8981778176387931], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86300], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9337422948833918], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 87600], ["created_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00], ["currency", 0.9358888298776122], ["updated_at", Tue, 02 Sep 2014 21:48:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63400], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", 0.9235509928133138], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69700], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", 0.8599753926674815], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77700], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", 0.8752840493515216], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.3e-07], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.3e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50100], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", 0.9108407730710386], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 53500], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", 0.9274980304924995], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94000], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", 0.9528365277562215], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.1e-07], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:07 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.1e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66900], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", 0.9244866138755602], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 68600], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", 0.9781325661731929], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83600], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", 0.8621094480357594], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.2e-07], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.2e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52300], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", 0.9386078757958494], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 50600], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", 0.8537546980358213], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93800], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", 0.9367122008694244], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70200], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", 0.9780813786654647], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80200], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", 0.9657662390383868], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 64500], ["created_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00], ["currency", 0.9149391823238429], ["updated_at", Tue, 02 Sep 2014 21:49:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53000], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9181037499288613], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 64900], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9087759787279105], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62400], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9208101005574627], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.6e-07], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.6e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67300], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9132191137458525], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58400], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9688004204272935], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 56800], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.8732671565599877], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.8e-07], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.8e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85200], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9137174874005838], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92600], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9313808187911206], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71600], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.8792289718078259], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.4e-07], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.4e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78300], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.8786986351371896], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78300], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.8803108971478758], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 56800], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.8934386681490608], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 81200], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9096736490322841], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53600], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9002449600332443], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99000], ["created_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00], ["currency", 0.9684177904457486], ["updated_at", Tue, 02 Sep 2014 21:49:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64900], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", 0.9681927353782338], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72200], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", 0.9406378202312471], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83300], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", 0.889159897470834], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.2e-07], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.2e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 56900], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", 0.954000074886681], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93900], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", 0.9601200022857272], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83200], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", 0.8529799717917218], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.2e-07], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:21 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.2e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.7ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53300], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", 0.8863295015220378], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78400], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", 0.9829822630118974], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63300], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", 0.8544943223354616], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.6e-07], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.6e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "estimated_value") VALUES (?, ?)[0m  [["bitcoin_payment_id", 1], ["estimated_value", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67000], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", 0.9175290409352744], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89900], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", 0.8933409123845321], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 98700], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", 0.9058114511415744], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86600], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", 0.9285985254770119], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61300], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", 0.9664433911353814], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60600], ["created_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00], ["currency", 0.9368995505891938], ["updated_at", Tue, 02 Sep 2014 21:50:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69600], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", 0.9785238559227363], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99400], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", 0.9143107109795218], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 56000], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", 0.9295565702529681], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.8e-07], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.8e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88200], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", 0.8605314791883921], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74700], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", 0.9375414000154412], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 73400], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", 0.886304667057279], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.4e-07], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:33 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.4e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.7ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67800], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", 0.9009818471301603], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 68900], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", 0.9763870935193295], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62200], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", 0.9170859466967975], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.6e-07], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.6e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 73300], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", 0.8743209272093035], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96900], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", 0.9688718849575133], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92500], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", 0.9838052816658374], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55900], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", 0.8516242563149], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76900], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", 0.8992926354519126], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 88200], ["created_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00], ["currency", 0.8913530299844596], ["updated_at", Tue, 02 Sep 2014 21:50:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52400], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9623520190773653], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96600], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9091970947111668], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67100], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9670732288084087], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.5e-07], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.5e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71000], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9138557842592607], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65300], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9564784028730202], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55100], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.8591709624506946], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.8e-07], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.8e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78300], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.8662847687164743], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82100], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9597884865774676], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87300], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9097644541661172], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.1e-07], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.1e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85500], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9432264030788925], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96700], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9612659926910988], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95200], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.8558858412272048], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96900], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.8627407331757851], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62100], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.9147229790837158], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 53300], ["created_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00], ["currency", 0.8929383830968934], ["updated_at", Tue, 02 Sep 2014 21:50:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50700], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", 0.8646980908000872], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91200], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", 0.9001232376335095], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74600], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", 0.8981649815923581], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.3e-07], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.3e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69300], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", 0.9766623459675233], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58500], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", 0.9558998145926535], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96200], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", 0.9551215765259361], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.0e-07], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:00 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.0e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90000], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", 0.9210281330515873], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66200], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", 0.9811668485544426], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82800], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", 0.8867791230526988], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.2e-07], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.2e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86900], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", 0.9361170647858971], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82400], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", 0.9219318708847464], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72800], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", 0.9048462772799292], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73600], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", 0.8883895704192105], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74600], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", 0.9556358682251591], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 80600], ["created_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00], ["currency", 0.9744111876057829], ["updated_at", Tue, 02 Sep 2014 21:51:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62100], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.863701500715448], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58300], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.9426407400004578], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57400], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.9027537563457675], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.7e-07], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.7e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91400], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.8841506444459031], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 95400], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.8659971094703861], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85000], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.9833491569022513], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.2e-07], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.2e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61500], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.892853952170474], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 64700], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.8617929298700792], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65400], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.9893508824206059], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 1.5e-07], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", :cad], ["btc_amount_due", 1.5e-07], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88100], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.908022440421944], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 88200], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.8685950193788083], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66700], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.8588976185768284], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69500], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.9018659454258127], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95800], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.8544549103803938], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77400], ["created_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00], ["currency", 0.9456615392899896], ["updated_at", Tue, 02 Sep 2014 21:51:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77900], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9620181063428545], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60600], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9184503069522791], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57000], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9245489287123676], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00017544], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00017544], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75500], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9302705140748833], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51600], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.8822278874575361], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88800], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9861068111815523], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00011261], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00011261], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84900], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.88473950686132], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63100], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.8710637374025796], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81200], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9260180369270302], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00012315], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00012315], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "estimated_value") VALUES (?, ?)[0m  [["bitcoin_payment_id", 1], ["estimated_value", 6157]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71100], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9722999845623888], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62800], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.8999836433791629], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 84800], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9701255786598368], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81000], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9797669312456431], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 64000], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.8715927186693614], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78300], ["created_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00], ["currency", 0.9578287502979159], ["updated_at", Tue, 02 Sep 2014 21:51:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64600], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.9375267742328003], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65800], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.9640905981176395], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83400], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.8748371122519669], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.0001199], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.0001199], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74500], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.8828666955135012], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58500], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.8695005920716835], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90900], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.8545854528890452], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00011001], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00011001], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75800], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.9746688808519327], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65900], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.89632602933961], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78500], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.9342987991399619], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00012739], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00012739], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58600], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.9752586236888721], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 95200], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.8745958061607563], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67800], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.8856869021776913], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99400], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.9120281461766769], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71600], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.9070678709029223], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57600], ["created_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00], ["currency", 0.8813580472618022], ["updated_at", Tue, 02 Sep 2014 21:52:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75400], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", 0.8829020597556142], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61000], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", 0.8804633020684639], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83800], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", 0.8664961517621594], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00011933], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00011933], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85100], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", 0.8659288847034798], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71500], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", 0.9032423274664604], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94300], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", 0.9366092766887599], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00010604], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:55 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00010604], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84600], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", 0.9580117547149417], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 62300], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", 0.9811112794117891], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64700], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", 0.9066115397608044], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00015456], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 1000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00015456], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68500], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", 0.8645208957863935], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85000], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", 0.9218278355412706], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74400], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", 0.9879120644897295], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52000], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", 0.8827807494638994], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50100], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", 0.8633203539714221], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85300], ["created_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00], ["currency", 0.9828335123788443], ["updated_at", Tue, 02 Sep 2014 21:52:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93500], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.9264305264520665], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96800], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.9147529275465838], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92900], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.877477053648877], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00107643], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00107643], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57000], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.9360293771263166], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 54500], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.9546355383083415], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94600], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.899501707391696], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00105708], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00105708], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92900], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.8706191235442491], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82000], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.9293933031511411], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66400], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.9169295118244796], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00150602], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00150602], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83500], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.8879170449824441], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 62800], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.8937417319074686], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88400], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.8631160813213309], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74500], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.9593628163321447], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87300], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.9284387947137646], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82000], ["created_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00], ["currency", 0.9613473242319807], ["updated_at", Tue, 02 Sep 2014 21:53:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83400], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.9703371439701345], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 62900], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.8536357663074187], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99800], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.972852895300298], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.001002], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.001002], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58500], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.90921470149252], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71900], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.9299934326773367], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50700], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.9757272060963665], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00197239], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00197239], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50400], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.9829074383768082], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 68800], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.9344538052943195], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59400], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.8704913191023066], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.0016835], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.0016835], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90200], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.9471284171874239], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78600], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.8929323096314998], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90600], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.90007176672315], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63400], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.8553816057921666], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98300], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.9701616160985148], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83300], ["created_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00], ["currency", 0.8550498582919154], ["updated_at", Tue, 02 Sep 2014 21:53:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84100], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.9841699683502301], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 59900], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.9286614838692842], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88800], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.9256397391299537], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00112613], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00112613], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57300], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.920236471570889], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77500], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.967639786912599], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87200], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.905324734457971], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00114679], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00114679], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98900], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.9672969405643681], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70500], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.9340024446365708], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59000], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.8545657367934987], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00169492], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00169492], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51700], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.9832465435962051], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92500], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.8834004740034999], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62800], ["created_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00], ["currency", 0.9689550071496067], ["updated_at", Tue, 02 Sep 2014 21:54:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99000], ["created_at", Tue, 02 Sep 2014 21:54:14 UTC +00:00], ["currency", 0.9084993501307765], ["updated_at", Tue, 02 Sep 2014 21:54:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77300], ["created_at", Tue, 02 Sep 2014 21:54:14 UTC +00:00], ["currency", 0.8962887654857147], ["updated_at", Tue, 02 Sep 2014 21:54:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85900], ["created_at", Tue, 02 Sep 2014 21:54:14 UTC +00:00], ["currency", 0.8858069063509183], ["updated_at", Tue, 02 Sep 2014 21:54:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81900], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.923590236635736], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69000], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.953963215276155], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93100], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.9368838379543671], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00107411], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00107411], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65400], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.9815944472267378], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89000], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.9661124189883807], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58000], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.9182569144206879], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00172414], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00172414], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67900], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.8514674510318077], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77100], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.8732358066722922], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63300], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.9652150578228641], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.00157978], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.00157978], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 50400], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.9545140483870823], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76000], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.9598209964765962], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60100], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.9268684763033181], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99000], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.9419482408319552], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92400], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.8529746904272645], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66900], ["created_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00], ["currency", 0.8946296715600724], ["updated_at", Tue, 02 Sep 2014 21:54:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86000], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", 0.8627313892162382], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 94000], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", 0.877233203107722], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68000], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", 0.8829665698671634], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14705882], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14705882], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76100], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", 0.8644284229339634], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60300], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", 0.8541977860188693], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74200], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", 0.9106257034850973], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.13477089], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13477089], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83300], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", 0.9195928278759434], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82000], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", 0.8804151503398315], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84000], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", 0.8702473001287447], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11904762], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:06:33 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11904762], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "estimated_value") VALUES (?, ?)[0m  [["bitcoin_payment_id", 1], ["estimated_value", 5952381]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56600], ["created_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00], ["currency", 0.8565606060933343], ["updated_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63200], ["created_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00], ["currency", 0.9883120010269578], ["updated_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 64900], ["created_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00], ["currency", 0.9414508460645556], ["updated_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66100], ["created_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00], ["currency", 0.855596443421027], ["updated_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93900], ["created_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00], ["currency", 0.897894008412266], ["updated_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65900], ["created_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00], ["currency", 0.9290208841832298], ["updated_at", Tue, 02 Sep 2014 22:06:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76200], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.9684339308803684], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99100], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.9833336849275226], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95600], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.8971434882438312], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10460251], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10460251], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82900], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.9316603802850071], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 75900], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.8867357024345466], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88300], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.8728221842309284], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11325028], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11325028], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79200], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.9078530468738215], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90700], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.8655866199456064], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68900], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.9452421404595615], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14513788], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14513788], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75200], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.9491199989700996], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66400], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.8800083144450231], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63300], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.8951353956386556], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55200], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.8710886296443111], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95100], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.9444576552881937], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82800], ["created_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00], ["currency", 0.9109861831673819], ["updated_at", Tue, 02 Sep 2014 22:07:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51700], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.960453952983944], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99300], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.9705903380381962], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 97000], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.9333549831205623], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10309278], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10309278], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83600], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.8927079745800212], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 53200], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.9124282694847783], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79700], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.9638813463658249], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12547051], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12547051], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96300], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.9020747132509876], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60800], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.8671116588109921], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65900], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.9186435797991072], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.15174507], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15174507], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98700], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.8616367696943783], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60000], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.8622781211790717], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50300], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.9191990576981275], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 98200], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.9755582724057206], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50700], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.8767409693950722], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67300], ["created_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00], ["currency", 0.9030841775063547], ["updated_at", Tue, 02 Sep 2014 22:07:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89900], ["created_at", Tue, 02 Sep 2014 22:09:46 UTC +00:00], ["currency", 0.976898572936573], ["updated_at", Tue, 02 Sep 2014 22:09:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82100], ["created_at", Tue, 02 Sep 2014 22:09:46 UTC +00:00], ["currency", 0.9835901135259375], ["updated_at", Tue, 02 Sep 2014 22:09:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65700], ["created_at", Tue, 02 Sep 2014 22:09:46 UTC +00:00], ["currency", 0.861599076133589], ["updated_at", Tue, 02 Sep 2014 22:09:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.152207], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.152207], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94900], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.8738510278072018], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 81800], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.9845923133459451], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66000], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.9544616505665103], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.15151515], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15151515], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52000], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.9780096042364029], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73300], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.8945850187919573], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64500], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.9663202896650329], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.15503876], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15503876], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 64500], ["estimated_value", 7751938]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.4ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 97000], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.9184978352991597], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 59900], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.8784025927546046], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99200], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.9813465030903812], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66000], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.9898077315317253], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54500], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.8986679803975095], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57700], ["created_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00], ["currency", 0.855545287419363], ["updated_at", Tue, 02 Sep 2014 22:09:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57600], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", 0.9591955667740568], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86600], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", 0.9359650367635454], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81300], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", 0.8541064113059986], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12300123], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12300123], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52800], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", 0.8912502363048082], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70100], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", 0.8622723173507879], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66300], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", 0.957240261910453], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.15082956], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:19 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15082956], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72500], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", 0.9338701462559409], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 94200], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", 0.8786328104216304], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76900], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", 0.90964301636713], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.13003901], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13003901], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 76900], ["estimated_value", 6501950]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 50900], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", 0.9383631872104385], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83300], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", 0.9837239425889207], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96900], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", 0.8932012675208246], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66400], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", 0.9496446364082973], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85800], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", 0.9648496088302818], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95600], ["created_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00], ["currency", 0.9257381378635913], ["updated_at", Tue, 02 Sep 2014 22:10:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68200], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9792415970980934], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92300], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.8879882434164016], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53300], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9149663604943579], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.18761726], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18761726], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74100], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9729120497355347], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74900], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.8692111195843638], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94300], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.8901607014735282], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10604454], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10604454], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93100], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9088462679186804], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 98900], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.8839165528107155], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54500], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9065718261097176], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.18348624], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18348624], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 54500], ["estimated_value", 9174312]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90400], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9371191076394217], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83200], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9073749186394126], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86700], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9738370122238817], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72300], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9369483943184361], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70300], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.8967649501889453], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92600], ["created_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00], ["currency", 0.9034802593645891], ["updated_at", Tue, 02 Sep 2014 22:10:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63900], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9024895433000102], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65400], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.8833202166960958], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58500], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.935610677058583], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.17094017], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17094017], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57100], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9393955813720524], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98500], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9441692720081978], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 84700], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9060712514269829], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.11806375], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11806375], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58500], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9527184204413022], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73300], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9689901999549448], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87300], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9182340905120602], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11454754], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11454754], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 87300], ["estimated_value", 5727377]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 53500], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.8557730559727115], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96900], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9652045907869723], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73500], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9700666584255373], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67700], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.8938278069494247], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56100], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.9335939377846305], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70800], ["created_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00], ["currency", 0.8560836144315512], ["updated_at", Tue, 02 Sep 2014 22:12:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94100], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.9048969497628148], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66500], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.9888438824339371], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53200], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.8989055013708391], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.4ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.18796992], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18796992], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 75000], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.9212471886177085], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76200], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.8892479367243882], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56700], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.9623317059562613], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.17636684], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17636684], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.6ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82200], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.9399913428365507], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78100], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.8678104876838906], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 98300], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.8569906328597061], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.1017294], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1017294], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 98300], ["estimated_value", 5086470]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91600], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.9408314524913868], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63700], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.9611759985053077], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93000], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.9397304164394256], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96600], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.86386777411721], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99800], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.8867138781071638], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93400], ["created_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00], ["currency", 0.8612648199709668], ["updated_at", Tue, 02 Sep 2014 22:13:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80900], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", 0.9049568617620538], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69200], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", 0.9652938838643438], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70000], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", 0.886718747030251], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14285714], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14285714], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74600], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", 0.9683400583252324], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55300], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", 0.873390247405192], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61600], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", 0.8867518469682392], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.16233766], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16233766], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.6ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57600], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", 0.9811231444009827], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57500], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", 0.9595342024588952], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79100], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", 0.9078420182534946], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12642225], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12642225], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 79100], ["estimated_value", 6321112]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:13:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59100], ["created_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00], ["currency", 0.9324642190205115], ["updated_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91500], ["created_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00], ["currency", 0.962154694253151], ["updated_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68400], ["created_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00], ["currency", 0.9305515966593272], ["updated_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 87600], ["created_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00], ["currency", 0.937967178694884], ["updated_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94700], ["created_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00], ["currency", 0.9628296568770682], ["updated_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 88400], ["created_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00], ["currency", 0.9142733913722477], ["updated_at", Tue, 02 Sep 2014 22:13:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66400], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", 0.9026786229438432], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77500], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", 0.8915925891300335], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50900], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", 0.9708380669487854], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.19646365], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19646365], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71600], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", 0.8806276664394875], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54100], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", 0.9090883748568386], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93700], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", 0.8840152236581892], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10672359], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:16:30 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10672359], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.6ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98400], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", 0.9522906677854018], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83500], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", 0.8947582163196296], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95900], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", 0.9443848771211081], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10427529], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10427529], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 95900], ["estimated_value", 5213764]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96200], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", 0.8971740690489305], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93400], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", 0.9474770587734539], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 87100], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", 0.8664976900863669], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57700], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", 0.9383972530469953], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73800], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", 0.8696192974815148], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61800], ["created_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00], ["currency", 0.8884588513703553], ["updated_at", Tue, 02 Sep 2014 22:16:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51000], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.8844532568066041], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 79600], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.8720776224957489], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86100], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.987566461456759], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11614402], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11614402], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91800], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.8910009910373685], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63100], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.9135869067312336], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51300], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.9097842843823666], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.19493177], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19493177], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51700], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.9128318620607602], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96600], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.9838628022167034], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71300], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.9442272058028411], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14025245], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14025245], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 71300], ["estimated_value", 7012622]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78600], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.8877932196730327], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76900], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.906097260240928], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96800], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.939533355802584], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98700], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.8954234384243215], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51600], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.8669661768881356], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72200], ["created_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00], ["currency", 0.8628526792351456], ["updated_at", Tue, 02 Sep 2014 22:17:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52500], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", 0.8771299236305976], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 80600], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", 0.969927544630053], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82200], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", 0.9069774978389412], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.4ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.1216545], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1216545], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70600], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", 0.9681679269777568], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86500], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", 0.9870267755164137], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73900], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", 0.9259676034232454], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.135318], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.135318], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63200], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", 0.9575781746941322], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 94000], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", 0.9515668985862306], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91600], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", 0.944751247826176], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10917031], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:36 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10917031], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 91600], ["estimated_value", 5458515]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91300], ["created_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00], ["currency", 0.8666090214607084], ["updated_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51500], ["created_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00], ["currency", 0.8842819553489853], ["updated_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58400], ["created_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00], ["currency", 0.8853275625453059], ["updated_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 56100], ["created_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00], ["currency", 0.9067466835593654], ["updated_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82600], ["created_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00], ["currency", 0.9118773049766385], ["updated_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65100], ["created_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00], ["currency", 0.9521361854289054], ["updated_at", Tue, 02 Sep 2014 22:17:37 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67900], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.8780389974285626], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85600], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.9526589016081158], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82200], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.8866744115199919], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.1216545], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1216545], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90300], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.8749526350602086], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61800], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.8867049220072147], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61600], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.9726640651455142], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.16233766], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16233766], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81700], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.9826850738252899], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74000], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.958153488588317], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59700], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.9278835232522619], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.16750419], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16750419], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 59700], ["estimated_value", 8375209]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63700], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.9682405565395281], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66100], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.9720517376977139], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86500], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.8537651651531832], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51200], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.9300306287633526], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52100], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.9701979124215673], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99200], ["created_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00], ["currency", 0.9486123802441503], ["updated_at", Tue, 02 Sep 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53400], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.9458291500016841], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77300], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.8618798835926573], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64800], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.8828974013063854], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.15432099], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15432099], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 95300], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.8805628271144931], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70300], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.9027148611176797], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82900], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.8572998325660534], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.12062726], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12062726], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66700], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.9844993935340408], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 81000], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.8837518652461187], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84900], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.8553909430226493], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11778563], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11778563], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 84900], ["estimated_value", 5889281]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56600], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.8953467492458917], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60500], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.8708492889152791], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89500], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.9231082436134027], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68500], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.9650944512669722], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86300], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.9503323942008077], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68700], ["created_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00], ["currency", 0.98563295418576], ["updated_at", Tue, 02 Sep 2014 22:18:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98400], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.8660325450389038], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67500], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.8533911974863785], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72200], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9057253220590512], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.13850416], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13850416], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65600], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9430226014588982], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64900], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9276618513617968], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56800], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.8746027207305663], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.17605634], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17605634], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63200], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9892241305025192], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73000], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.931857637392766], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 97000], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9429063419950885], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10309278], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10309278], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 97000], ["estimated_value", 5154639]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74400], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.8606889468763163], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62200], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9060819844262177], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74700], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.879238571772571], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.13386881], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13386881], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 74700], ["estimated_value", 0]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77200], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9707389386276031], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93700], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9679500438816775], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63700], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9758340499764485], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 80200], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.942646256387101], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70700], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.8943749294868851], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73500], ["created_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00], ["currency", 0.9753545209444651], ["updated_at", Tue, 02 Sep 2014 22:18:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84000], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.8966715652773077], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61500], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9493685187694079], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99900], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.8525587839239471], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.1001001], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1001001], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52500], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9640742880088391], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51100], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.87974900887225], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83300], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.878787403513156], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.12004802], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12004802], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.6ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57800], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9142442664992899], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52700], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.8705917707272952], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62400], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9546411243049503], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.16025641], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16025641], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 62400], ["estimated_value", 8012820]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73000], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9607067444962409], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98000], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9188312203513098], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70900], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9809435487538978], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.14104372], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14104372], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 70900], ["estimated_value", 0]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72100], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9882228504424321], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99900], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.965491250110196], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88200], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9751131143999652], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83500], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.9192809347918824], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60000], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.8770725907868389], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60400], ["created_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00], ["currency", 0.8695377763623973], ["updated_at", Tue, 02 Sep 2014 22:19:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78200], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.9843556709843007], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 87800], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.8962631810043605], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81400], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.8742229018936019], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12285012], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12285012], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90900], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.9729338283354539], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 97500], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.9734174019102071], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58500], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.9742801232897426], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.17094017], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17094017], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78500], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.8654598458471431], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83700], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.877809937833023], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76700], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.9499783479030712], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.1303781], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1303781], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 76700], ["estimated_value", 6518905]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 80900], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.8865138071277524], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85100], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.8875671581870649], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 84200], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.9121956691428932], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.11876485], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11876485], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 84200], ["estimated_value", 0]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80700], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.8916130487621183], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96400], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.917361517828286], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70400], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.9359419371749462], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 88800], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.9263133229742849], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72400], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.8942992214399151], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97600], ["created_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00], ["currency", 0.9204751445890195], ["updated_at", Tue, 02 Sep 2014 22:19:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60400], ["created_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00], ["currency", 0.8977873827699072], ["updated_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55000], ["created_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00], ["currency", 0.9239342157140474], ["updated_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81400], ["created_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00], ["currency", 0.9275060278908238], ["updated_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12285012], ["created_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:20:01 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12285012], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 81400], ["estimated_value", 0]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87300], ["created_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00], ["currency", 0.8513196086884863], ["updated_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71600], ["created_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00], ["currency", 0.9550329250359678], ["updated_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80500], ["created_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00], ["currency", 0.9689701972025201], ["updated_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.1242236], ["created_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:21:00 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1242236], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 80500], ["estimated_value", 0]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93300], ["created_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00], ["currency", 0.938850793055339], ["updated_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71000], ["created_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00], ["currency", 0.9838802989308875], ["updated_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60500], ["created_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00], ["currency", 0.8860921242220158], ["updated_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.16528926], ["created_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:21:31 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16528926], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 60500], ["estimated_value", 0]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74900], ["created_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00], ["currency", 0.9838781973375692], ["updated_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 54700], ["created_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00], ["currency", 0.9646077946579419], ["updated_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94200], ["created_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00], ["currency", 0.8709030833073688], ["updated_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10615711], ["created_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:21:58 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10615711], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58400], ["created_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00], ["currency", 0.894816191137221], ["updated_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65900], ["created_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00], ["currency", 0.957428525516925], ["updated_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70800], ["created_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00], ["currency", 0.9821040970301379], ["updated_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14124294], ["created_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:22:17 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14124294], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86200], ["created_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00], ["currency", 0.9218375330423212], ["updated_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58300], ["created_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00], ["currency", 0.9859431322548995], ["updated_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57800], ["created_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00], ["currency", 0.8839210062392384], ["updated_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.17301038], ["created_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:22:31 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17301038], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90000], ["created_at", Tue, 02 Sep 2014 22:23:19 UTC +00:00], ["currency", 0.9827923651205458], ["updated_at", Tue, 02 Sep 2014 22:23:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 64900], ["created_at", Tue, 02 Sep 2014 22:23:19 UTC +00:00], ["currency", 0.8952728401187467], ["updated_at", Tue, 02 Sep 2014 22:23:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54700], ["created_at", Tue, 02 Sep 2014 22:23:19 UTC +00:00], ["currency", 0.9472201167336214], ["updated_at", Tue, 02 Sep 2014 22:23:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:23:19 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.18281536], ["created_at", Tue, 02 Sep 2014 22:23:20 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:23:20 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:23:20 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:20 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18281536], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 54700], ["estimated_value", 1828153600]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:23:20 UTC +00:00]]
  [1m[35mWidget Load (0.3ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76300], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.9807372390121032], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91700], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.9127906674959827], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77700], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.9535577071749323], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12870013], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12870013], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91900], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.8588224338983346], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64900], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.9687861093862142], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96500], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.9205933023954191], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10362694], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10362694], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.6ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62800], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.8663012175398193], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73200], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.8659430956081978], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51000], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.8615683634745918], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.19607843], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19607843], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 51000], ["estimated_value", 980392149]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35mWidget Load (0.3ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74400], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.8938845630040367], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94300], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.8558372608766147], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72000], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", 0.8637929322588698], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.13888889], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:35 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13888889], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 72000], ["estimated_value", 1388888899]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:23:36 UTC +00:00]]
  [1m[36mWidget Load (0.1ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86100], ["created_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00], ["currency", 0.9199212228879168], ["updated_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60700], ["created_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00], ["currency", 0.8513434907328532], ["updated_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53500], ["created_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00], ["currency", 0.8707075955736372], ["updated_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.18691589], ["created_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18691589], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 53500], ["estimated_value", 1869158900]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:23:50 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74100], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", 0.9484813545334414], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71400], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", 0.9749288998290848], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78900], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", 0.9781600237595195], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12674271], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12674271], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52600], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", 0.9748041805803237], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65500], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", 0.8882688811534498], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63900], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", 0.9180020498092658], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.15649452], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15649452], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89100], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", 0.9813530928803642], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74600], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", 0.8693346305711536], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74900], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", 0.9627699313280406], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.13351135], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:03 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13351135], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 74900], ["estimated_value", 667556750]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72900], ["created_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00], ["currency", 0.8787602174803297], ["updated_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83400], ["created_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00], ["currency", 0.9045623835174185], ["updated_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 59500], ["created_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00], ["currency", 0.9341059918624508], ["updated_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.16806723], ["created_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16806723], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 59500], ["estimated_value", 1680672300]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:24:04 UTC +00:00]]
  [1m[36mWidget Load (0.2ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 56800], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.9035325545996278], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 50300], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.9785115709272655], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 73600], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.9102903855210229], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.13586957], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13586957], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71600], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.8535411226295534], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82000], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.8509588871596777], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91400], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.9734134758795802], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10940919], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10940919], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.6ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80400], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.8542857328079166], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 80300], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.89689587991241], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72600], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.9060013270696476], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.13774105], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13774105], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 72600], ["estimated_value", 6887052]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73600], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.8810737629676919], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71300], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.8859444762879469], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90900], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", 0.9440040798626042], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.110011], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.110011], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 90900], ["estimated_value", 11001100]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:24:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98500], ["created_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00], ["currency", 0.9183705065983601], ["updated_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78400], ["created_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00], ["currency", 0.872417192227588], ["updated_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59700], ["created_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00], ["currency", 0.9184592717292801], ["updated_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.16750419], ["created_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16750419], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 59700], ["estimated_value", 16750419]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:24:53 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67800], ["created_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00], ["currency", 0.9402076955093461], ["updated_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78400], ["created_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00], ["currency", 0.9666223961984438], ["updated_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57700], ["created_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00], ["currency", 0.9059655807893607], ["updated_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.17331023], ["created_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17331023], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 57700], ["estimated_value", 17331023]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:25:11 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74200], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", 0.8794663193524116], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 79800], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", 0.8644942550023426], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80400], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", 0.9008613896589622], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12437811], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12437811], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63900], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", 0.9275767330986396], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94500], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", 0.8749897851883123], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55800], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", 0.887981458928167], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.17921147], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17921147], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59800], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", 0.9396287023915293], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63800], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", 0.9610393452202224], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77600], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", 0.926579960491137], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12886598], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12886598], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 77600], ["estimated_value", 6443298]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:25:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56200], ["created_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00], ["currency", 0.8946132983406603], ["updated_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89000], ["created_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00], ["currency", 0.8707216656644173], ["updated_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 88900], ["created_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00], ["currency", 0.8873607967544366], ["updated_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.11248594], ["created_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11248594], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 88900], ["estimated_value", 11248594]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:25:17 UTC +00:00]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53400], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", 0.9748040753873175], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56400], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", 0.9389327215839175], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53600], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", 0.8961073840325374], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.18656716], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18656716], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 76800], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", 0.8913676626165268], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83300], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", 0.9673177971453676], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 68500], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", 0.9480853073841862], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.1459854], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1459854], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79400], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", 0.8725242739854006], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58800], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", 0.8697491531142013], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92300], ["created_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00], ["currency", 0.938728982109274], ["updated_at", Tue, 02 Sep 2014 22:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10834236], ["created_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10834236], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 92300], ["estimated_value", 5417118]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77200], ["created_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["currency", 0.8882882223080507], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53000], ["created_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["currency", 0.8693129014928944], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72800], ["created_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["currency", 0.9487519218480369], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.13736264], ["created_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13736264], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 72800], ["estimated_value", 13736264]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:25:22 UTC +00:00]]
  [1m[36mWidget Load (0.2ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60200], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.8797179011084973], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 54000], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.976314199519946], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51400], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.9274659452834724], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.19455253], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19455253], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 75200], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.9248393749551602], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55700], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.8551686491558073], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 76100], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.8871167390587853], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.13140604], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13140604], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93000], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.9883222596239387], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60000], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.9872808734012987], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52500], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.9790345606459299], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.19047619], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19047619], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 52500], ["estimated_value", 9523809]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.4ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 80700], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.9068230124283734], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59300], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.9306235382103142], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69500], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", 0.977614164390953], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.14388489], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14388489], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 69500], ["estimated_value", 14388488]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.4ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:25:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95500], ["created_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00], ["currency", 0.9875781836632725], ["updated_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58900], ["created_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00], ["currency", 0.9840859203868262], ["updated_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98200], ["created_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00], ["currency", 0.8583435316935445], ["updated_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10183299], ["created_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10183299], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 98200], ["estimated_value", 10183299]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:26:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62700], ["created_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00], ["currency", 0.9267524621189481], ["updated_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61300], ["created_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00], ["currency", 0.9046112759510146], ["updated_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84800], ["created_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00], ["currency", 0.9075349131215716], ["updated_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.4ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11792453], ["created_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:12 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11792453], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 84800], ["estimated_value", 11792453]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75900], ["created_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00], ["currency", 0.9409629117473498], ["updated_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71000], ["created_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00], ["currency", 0.8997684460877682], ["updated_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54300], ["created_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00], ["currency", 0.8662351296713373], ["updated_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.18416206], ["created_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:26 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18416206], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 54300], ["estimated_value", 18416206]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70700], ["created_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00], ["currency", 0.9754820654183136], ["updated_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82500], ["created_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00], ["currency", 0.972649109763192], ["updated_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86500], ["created_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00], ["currency", 0.8713442461146605], ["updated_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11560694], ["created_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11560694], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 86500], ["estimated_value", 11560694]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:26:46 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66900], ["created_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00], ["currency", 0.8520382440728558], ["updated_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66700], ["created_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00], ["currency", 0.978364566481004], ["updated_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91500], ["created_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00], ["currency", 0.9737785758970559], ["updated_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10928962], ["created_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:50 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10928962], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 91500], ["estimated_value", 10928962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:26:51 UTC +00:00]]
  [1m[35mWidget Load (0.3ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88700], ["created_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00], ["currency", 0.9374893574983904], ["updated_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 87100], ["created_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00], ["currency", 0.9209791356685625], ["updated_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52500], ["created_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00], ["currency", 0.9129090672396405], ["updated_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.19047619], ["created_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:26:55 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19047619], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 52500], ["estimated_value", 19047619]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 97100], ["created_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00], ["currency", 0.9336903082084197], ["updated_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91800], ["created_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00], ["currency", 0.9767231590088284], ["updated_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89100], ["created_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00], ["currency", 0.9059078512617091], ["updated_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11223345], ["created_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11223345], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 89100], ["estimated_value", 11335578]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:27:17 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79400], ["created_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00], ["currency", 0.96288312990079], ["updated_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97300], ["created_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00], ["currency", 0.8710420668720579], ["updated_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90600], ["created_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00], ["currency", 0.8869728107926418], ["updated_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11037528], ["created_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11037528], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 90600], ["estimated_value", 11147903]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:27:21 UTC +00:00]]
  [1m[35mWidget Load (0.3ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54700], ["created_at", Tue, 02 Sep 2014 22:27:24 UTC +00:00], ["currency", 0.8911213707099302], ["updated_at", Tue, 02 Sep 2014 22:27:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89100], ["created_at", Tue, 02 Sep 2014 22:27:24 UTC +00:00], ["currency", 0.965315533682348], ["updated_at", Tue, 02 Sep 2014 22:27:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92900], ["created_at", Tue, 02 Sep 2014 22:27:24 UTC +00:00], ["currency", 0.9044105087572151], ["updated_at", Tue, 02 Sep 2014 22:27:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:27:24 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10764263], ["created_at", Tue, 02 Sep 2014 22:27:25 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:25 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:25 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:25 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10764263], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 92900], ["estimated_value", 10871905]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:27:25 UTC +00:00]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92400], ["created_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00], ["currency", 0.9337563508206743], ["updated_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56300], ["created_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00], ["currency", 0.9228726871779028], ["updated_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69200], ["created_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00], ["currency", 0.9709779512866197], ["updated_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14450867], ["created_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14450867], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 69200], ["estimated_value", 14595375]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:27:28 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93400], ["created_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00], ["currency", 0.8957322702922569], ["updated_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72600], ["created_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00], ["currency", 0.98737331390613], ["updated_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90800], ["created_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00], ["currency", 0.8801977619830355], ["updated_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11013216], ["created_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11013216], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 90800], ["estimated_value", 11123348]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:27:32 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 76500], ["created_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00], ["currency", 0.9470314965378347], ["updated_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 76000], ["created_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00], ["currency", 0.9139652666342972], ["updated_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80800], ["created_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00], ["currency", 0.850262043298491], ["updated_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12376238], ["created_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12376238], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 80800], ["estimated_value", 12500000]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:27:38 UTC +00:00]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94700], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", 0.895001314324921], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99100], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", 0.8639902164407044], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68100], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", 0.9417242668359331], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14684288], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14684288], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 84800], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", 0.8675682457015613], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99600], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", 0.9143186622045069], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71100], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", 0.9602678246762381], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.14064698], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:42 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14064698], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79900], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", 0.9657505623606796], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 87700], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", 0.9406319601642645], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71400], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", 0.8921946659424232], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14005602], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14005602], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 71400], ["estimated_value", 7002801]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55400], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", 0.9387787928049274], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89800], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", 0.923851309075618], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 95700], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", 0.8618153575490564], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10449321], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10449321], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 95700], ["estimated_value", 10553814]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Tue, 02 Sep 2014 22:27:43 UTC +00:00]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (16.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75000], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", 0.8611731848202052], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57300], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", 0.8856599331712739], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75700], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", 0.9598501511230632], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.1321004], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1321004], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66600], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", 0.9244941094911343], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71800], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", 0.9866371083538265], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83000], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", 0.8668737691467899], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.12048193], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["updated_at", Wed, 03 Sep 2014 00:43:13 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12048193], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64200], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", 0.8830555233559314], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66400], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", 0.9240472132883902], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93500], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", 0.9597468084081484], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10695187], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10695187], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 93500], ["estimated_value", 5347593]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91200], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", 0.8684728691810422], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78700], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", 0.9014657792895167], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73000], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", 0.922370540066715], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.1369863], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1369863], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 73000], ["estimated_value", 13835616]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55000], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", 0.9480426482617085], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88400], ["created_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00], ["currency", 0.9316313403082753], ["updated_at", Wed, 03 Sep 2014 00:43:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 87400], ["created_at", Wed, 03 Sep 2014 00:43:15 UTC +00:00], ["currency", 0.9398309773500312], ["updated_at", Wed, 03 Sep 2014 00:43:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65900], ["created_at", Wed, 03 Sep 2014 00:43:15 UTC +00:00], ["currency", 0.8564704704932606], ["updated_at", Wed, 03 Sep 2014 00:43:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 53800], ["created_at", Wed, 03 Sep 2014 00:43:15 UTC +00:00], ["currency", 0.9634128174392946], ["updated_at", Wed, 03 Sep 2014 00:43:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85600], ["created_at", Wed, 03 Sep 2014 00:43:15 UTC +00:00], ["currency", 0.9428755330716694], ["updated_at", Wed, 03 Sep 2014 00:43:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (9.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64500], ["created_at", Wed, 17 Sep 2014 11:56:42 UTC +00:00], ["currency", 0.9873097784693783], ["updated_at", Wed, 17 Sep 2014 11:56:42 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57400], ["created_at", Wed, 17 Sep 2014 11:56:42 UTC +00:00], ["currency", 0.8514355243205938], ["updated_at", Wed, 17 Sep 2014 11:56:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81400], ["created_at", Wed, 17 Sep 2014 11:56:42 UTC +00:00], ["currency", 0.9113938255308838], ["updated_at", Wed, 17 Sep 2014 11:56:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:56:42 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:56:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12285012], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12285012], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83100], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.8678180474063492], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50000], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.8922721365357612], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66500], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.8657440618830256], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.15037594], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15037594], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.5ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55000], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.9120993809098455], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 94900], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.897762011402763], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59900], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.8611831207613557], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.16694491], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16694491], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 59900], ["estimated_value", 8347245]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 54200], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.9559591212602472], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92100], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.9216681245868589], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52800], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.9350718205293311], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.18939394], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18939394], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 52800], ["estimated_value", 19128787]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 87800], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.8578424557887556], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71400], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.8757413895773551], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 79400], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.9602901822573263], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87300], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.9290633300736468], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86400], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.9543824392990468], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66100], ["created_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00], ["currency", 0.97373001785954], ["updated_at", Wed, 17 Sep 2014 11:56:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83000], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9032778767174985], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89400], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.8701510180396008], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86100], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9436038147389829], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11614402], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11614402], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 68200], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9512400973357742], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69000], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9391901207870315], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 88800], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.8756107585875256], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.11261261], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11261261], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80500], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9327490749035997], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92100], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9514664273992379], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78400], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9888285027750764], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12755102], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12755102], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 78400], ["estimated_value", 6377550]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78700], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.8756802862488847], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65100], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9585178555549737], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57300], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.8702394120242221], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.17452007], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17452007], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 57300], ["estimated_value", 17626527]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36mWidget Load (0.2ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70600], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.8694120150142269], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85500], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.8602538278278579], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 98900], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9637671355047106], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75600], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.8919742770216996], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 54500], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.9882204114597335], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86000], ["created_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00], ["currency", 0.8854647079807096], ["updated_at", Wed, 17 Sep 2014 11:57:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58800], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9465138809628655], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 59600], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9644301869633808], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98900], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.8557387299727391], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10111223], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10111223], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58600], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.8990104008054993], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69700], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.907658298788328], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72700], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9682964841956576], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.13755158], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13755158], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92700], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.8890720924312626], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89900], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9034177093138507], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94100], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9781416971271899], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10626993], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10626993], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 94100], ["estimated_value", 5313496]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89200], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9690912932653418], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65300], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9809195717974739], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96900], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9231428020513905], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10319917], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10319917], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 96900], ["estimated_value", 10423116]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36mWidget Load (0.2ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 75600], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9125780759543346], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58300], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.8668925036424046], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 98700], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9580216400877498], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64500], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9547882372652852], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 50800], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.8567349669434773], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72700], ["created_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00], ["currency", 0.9569370304458806], ["updated_at", Wed, 17 Sep 2014 11:58:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (6.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55700], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.8649735550143809], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85900], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.9003473209553713], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88000], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.9899888255915545], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11363636], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11363636], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67500], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.9030722560391085], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88700], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.8748518430519716], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82900], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.893331654347782], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.12062726], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12062726], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89400], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.8539281687351213], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72700], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.986073068496853], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81200], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.9495340337628968], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12315271], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12315271], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 81200], ["estimated_value", 6157635]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96300], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.9192981659611807], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60100], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.8805701977685595], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90000], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.9289680082998598], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.11111111], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11111111], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 90000], ["estimated_value", 11222222]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36mWidget Load (0.2ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82600], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.9541549674252134], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94600], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.8945814479582708], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 79600], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.9671957142295352], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57600], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.8999539887127466], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 54600], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.8990918786982444], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99900], ["created_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00], ["currency", 0.94261189472784], ["updated_at", Wed, 17 Sep 2014 11:58:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71700], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", 0.9142187636960413], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 68500], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", 0.9045877987886386], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96300], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", 0.9813830874158802], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10384216], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10384216], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82900], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", 0.9344227337270339], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 74600], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", 0.9663810751634103], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73800], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", 0.9844265371360389], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.13550136], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:06 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13550136], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61700], ["created_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00], ["currency", 0.8758440397665406], ["updated_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91600], ["created_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00], ["currency", 0.9558409588858812], ["updated_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92300], ["created_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00], ["currency", 0.9054608392727479], ["updated_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10834236], ["created_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:16 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10834236], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 92300], ["estimated_value", 5417118]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54200], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", 0.9017808953523114], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85600], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", 0.9766973497881473], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61600], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", 0.8621328627300665], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.16233766], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16233766], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77900], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", 0.9201640758006292], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91300], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", 0.9191755616799104], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74000], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", 0.8886221299200604], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.13513514], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13513514], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66500], ["created_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00], ["currency", 0.895392006773523], ["updated_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97200], ["created_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00], ["currency", 0.9598858482136626], ["updated_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60500], ["created_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00], ["currency", 0.984664432301093], ["updated_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.16528926], ["created_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 11:59:51 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16528926], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 60500], ["estimated_value", 8264462]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 60600], ["created_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00], ["currency", 0.9495202272482463], ["updated_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52500], ["created_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00], ["currency", 0.9580653030620874], ["updated_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 50300], ["created_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00], ["currency", 0.9036454793859529], ["updated_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.19880716], ["created_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:01 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19880716], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 50300], ["estimated_value", 20079523]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79400], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", 0.906913052689047], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74300], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", 0.8599945993217116], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69200], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", 0.9891854876375189], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14450867], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14450867], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90800], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", 0.8744743620372262], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52900], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", 0.9194653215751749], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93300], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", 0.9449724520028385], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10718114], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:09 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10718114], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71500], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.8928754633442638], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 87100], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.9025662519729664], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89300], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.9632355691312362], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11198208], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11198208], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 89300], ["estimated_value", 5599104]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74800], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.8560376978672971], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71000], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.9109214230102357], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 94400], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.8867763247580498], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.1059322], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1059322], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 94400], ["estimated_value", 10699152]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89000], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.956773945947694], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84600], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.972290695189209], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 62400], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.9548177649793926], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95700], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.8910894981011496], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99300], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.8672743218738179], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72700], ["created_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00], ["currency", 0.890478010420832], ["updated_at", Wed, 17 Sep 2014 12:00:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (6.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54200], ["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["currency", 0.9868297099405117], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83100], ["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["currency", 0.9159801858602797], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85100], ["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["currency", 0.8621645221089815], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84600], ["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["currency", 0.8862471942324612], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96700], ["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["currency", 0.8790868126904212], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79600], ["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["currency", 0.869547408719491], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 79400], ["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["currency", 0.9545793282512408], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81700], ["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["currency", 0.9757025130630141], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91200], ["created_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00], ["currency", 0.9860110316094335], ["updated_at", Wed, 17 Sep 2014 14:12:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88300], ["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["currency", 0.9279919243354187], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63800], ["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["currency", 0.9213940651868264], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71700], ["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["currency", 0.9895674421315086], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64700], ["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["currency", 0.8890278420526418], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97000], ["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["currency", 0.9755414330313716], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98600], ["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["currency", 0.952060670845785], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 95700], ["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["currency", 0.9098079590638612], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60300], ["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["currency", 0.8912317644214609], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82100], ["created_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00], ["currency", 0.9107810932875994], ["updated_at", Wed, 17 Sep 2014 15:09:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82200], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", 0.8769847690714165], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86400], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", 0.8862800403037022], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52200], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", 0.8526973483556621], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.19157088], ["btc_conversion", 52200], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19157088], ["btc_conversion", 52200], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64600], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", 0.8689449543269377], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82900], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", 0.8953402594934735], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67300], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", 0.8877028400156881], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.14858841], ["btc_conversion", 67300], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:23:43 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14858841], ["btc_conversion", 67300], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96200], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.9138637502598448], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 81700], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.8758368141911926], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51400], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.8553478408068448], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.19455253], ["btc_conversion", 51400], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19455253], ["btc_conversion", 51400], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 51400], ["estimated_value", 9727626]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79200], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.892901620276872], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73200], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.9345499179064605], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79200], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.903534537036873], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.12626263], ["btc_conversion", 79200], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12626263], ["btc_conversion", 79200], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 79200], ["estimated_value", 12752525]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 54300], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.9390194215837294], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95500], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.9747457703420499], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55400], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.9338212984954469], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57600], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.8786858958015482], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 59000], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.8611659672835079], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58200], ["created_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00], ["currency", 0.907880567125675], ["updated_at", Wed, 17 Sep 2014 15:23:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 51300], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", 0.9345363599243806], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90600], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", 0.9510030502835335], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54600], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", 0.9574310608280182], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.18315018], ["btc_conversion", 54600], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18315018], ["btc_conversion", 54600], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63000], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", 0.8926509274427163], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78200], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", 0.9682419077618508], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 83600], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", 0.8900461858409209], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.11961722], ["btc_conversion", 83600], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:21 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11961722], ["btc_conversion", 83600], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.6ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 75500], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.9834088197669242], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77300], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.8863952531040772], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63300], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.9270637783222255], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.15797788], ["btc_conversion", 63300], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15797788], ["btc_conversion", 63300], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 63300], ["estimated_value", 7898893]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86000], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.9109707299862471], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99100], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.9805664254553276], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 81600], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.9443361105048115], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12254902], ["btc_conversion", 81600], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12254902], ["btc_conversion", 81600], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 81600], ["estimated_value", 12377451]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51400], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.883793167435755], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90400], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.970853974190112], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90600], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.8913058816233064], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99700], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.922012196148938], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78300], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.9827741529524856], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90200], ["created_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00], ["currency", 0.9363447990748603], ["updated_at", Wed, 17 Sep 2014 15:25:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 97300], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.8603484356286885], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93700], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.8908023183409475], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 56100], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.911393202960021], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.17825312], ["btc_conversion", 56100], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17825312], ["btc_conversion", 56100], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 73900], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.9238601019730712], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65000], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.9432904052557043], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 73900], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.8593176602915995], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.135318], ["btc_conversion", 73900], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.135318], ["btc_conversion", 73900], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.4ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 85300], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.8962947125955258], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74600], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.9054433804455013], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80500], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.8663024300590318], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.1242236], ["btc_conversion", 80500], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1242236], ["btc_conversion", 80500], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 80500], ["estimated_value", 6211180]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71400], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.9480616419123861], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 73600], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.8518878479803305], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78500], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", 0.9853954207679634], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12738854], ["btc_conversion", 78500], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:25:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12738854], ["btc_conversion", 78500], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 78500], ["estimated_value", 12866242]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00]]
  [1m[36mWidget Load (0.2ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96300], ["created_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00], ["currency", 0.9152983763958095], ["updated_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59900], ["created_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00], ["currency", 0.9218263851895987], ["updated_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72900], ["created_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00], ["currency", 0.8664059717331639], ["updated_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53600], ["created_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00], ["currency", 0.8500780527468893], ["updated_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 71800], ["created_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00], ["currency", 0.8880055807157398], ["updated_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96700], ["created_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00], ["currency", 0.9482861234001195], ["updated_at", Wed, 17 Sep 2014 15:25:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81300], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.8575847605541416], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55600], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9095504415346206], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93300], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9785453641410194], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10718114], ["btc_conversion", 93300], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10718114], ["btc_conversion", 93300], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92600], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9058444657062146], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52900], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9381623858946726], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91700], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9242642082357622], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10905125], ["btc_conversion", 91700], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10905125], ["btc_conversion", 91700], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90500], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9304043482172161], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89100], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9680253043537191], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 77000], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.8757919339652179], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.12987013], ["btc_conversion", 77000], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12987013], ["btc_conversion", 77000], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 77000], ["estimated_value", 6493506]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58400], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9440431003145988], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 58800], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9605522733080234], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77900], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9791382950955841], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.1283697], ["btc_conversion", 77900], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1283697], ["btc_conversion", 77900], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 77900], ["estimated_value", 12965339]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77100], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.8735272298519875], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90600], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.8669030342590646], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51400], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.8614515142864426], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.19455253], ["btc_conversion", 51400], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.19455253], ["btc_conversion", 51400], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 1], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 1.0], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 51400], ["estimated_value", 9727626]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74900], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.8901861994438907], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99300], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.853239225649703], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 81700], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9103122273668863], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 71100], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.8526440946082402], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 55500], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9108990321429671], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93000], ["created_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00], ["currency", 0.9383442434134297], ["updated_at", Wed, 17 Sep 2014 15:28:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54300], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9593956917728832], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85600], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9009069425761167], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95700], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9326284751750656], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10449321], ["btc_conversion", 95700], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10449321], ["btc_conversion", 95700], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84500], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9573257641163703], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67600], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9095918527128777], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61300], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9877915161699509], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.16313214], ["btc_conversion", 61300], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16313214], ["btc_conversion", 61300], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 95000], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9751981594775251], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 75700], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.8653738520148565], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78300], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9106064239429973], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.12771392], ["btc_conversion", 78300], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12771392], ["btc_conversion", 78300], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 78300], ["estimated_value", 6385696]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 53900], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9755194392606391], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82500], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.85674162800732], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74100], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9153608853350109], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.13495277], ["btc_conversion", 74100], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13495277], ["btc_conversion", 74100], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 74100], ["estimated_value", 13630229]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36mWidget Load (0.2ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 80100], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9772905694972108], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54700], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9516703893475533], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72400], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.8684559966431441], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.13812155], ["btc_conversion", 72400], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13812155], ["btc_conversion", 72400], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 1], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 1.0], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 72400], ["estimated_value", 6906077]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 96700], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.8801394309586311], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65400], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.9678001272257392], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 53700], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.8513164611904553], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79100], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.878234849330636], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93600], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.915053995847894], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86300], ["created_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00], ["currency", 0.8822820563834903], ["updated_at", Wed, 17 Sep 2014 15:30:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62100], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", 0.8887755978127937], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 79800], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", 0.9884309437972771], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68800], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", 0.8702832662483824], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.14534884], ["btc_conversion", 68800], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14534884], ["btc_conversion", 68800], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 55800], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", 0.8788801069453314], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77900], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", 0.9237111648204671], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92800], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", 0.9555036379358911], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10775862], ["btc_conversion", 92800], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10775862], ["btc_conversion", 92800], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60600], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", 0.9786157903755375], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67400], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", 0.9728518997922392], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89500], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", 0.9562537918761722], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.11173184], ["btc_conversion", 89500], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:09 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11173184], ["btc_conversion", 89500], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 89500], ["estimated_value", 5586592]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 78300], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.9018138603479741], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69400], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.9759029950837684], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67800], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.9441555503879759], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.14749263], ["btc_conversion", 67800], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14749263], ["btc_conversion", 67800], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 67800], ["estimated_value", 14749263]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36mWidget Load (0.2ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56500], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.9830388905894876], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54800], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.9034852610920894], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 58600], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.9048206493456901], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.17064846], ["btc_conversion", 58600], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17064846], ["btc_conversion", 58600], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 1], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 1.0], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 58600], ["estimated_value", 8532423]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 95000], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.9323783411020913], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82000], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.8933865128528573], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 50700], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.8677043704522429], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92000], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.8888738434459896], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73800], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.9195954398355379], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86100], ["created_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00], ["currency", 0.8926925839571795], ["updated_at", Wed, 17 Sep 2014 15:31:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "currency_conversions"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54400], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", 0.944641295930065], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 72700], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", 0.8600994359203228], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98600], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", 0.893636178897689], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10141988], ["btc_conversion", 98600], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10141988], ["btc_conversion", 98600], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96400], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", 0.926702219584921], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 88100], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", 0.962529743025075], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 81400], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", 0.9099517039195656], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.12285012], ["btc_conversion", 81400], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12285012], ["btc_conversion", 81400], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82400], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", 0.8618364700511476], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 94200], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", 0.9826498364749197], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68800], ["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["currency", 0.8685507352756874], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.14534884], ["btc_conversion", 68800], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14534884], ["btc_conversion", 68800], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 68800], ["estimated_value", 7267442]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63800], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.90024902083037], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 54800], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.9003335955476114], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65700], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.9312735751253982], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.152207], ["btc_conversion", 65700], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.152207], ["btc_conversion", 65700], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 65700], ["estimated_value", 15220700]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51600], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.9249648979163149], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92100], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.8672180473082985], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 69100], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.9098179884723415], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.1447178], ["btc_conversion", 69100], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1447178], ["btc_conversion", 69100], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 1], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 1.0], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 69100], ["estimated_value", 7235890]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70400], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.8658789586679866], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64500], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.9672508164656627], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92900], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.964631062968886], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10764263], ["btc_conversion", 92900], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10764263], ["btc_conversion", 92900], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92700], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.9086289256054227], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86600], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.9337184956548719], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 79000], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.8811437379878332], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (1.3ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.4ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.12658228], ["btc_conversion", 79000], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12658228], ["btc_conversion", 79000], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 79000], ["estimated_value", 6329113]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 79000], ["estimated_value", 6329113]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90600], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.8900907057990071], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89700], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.9271115784102038], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 52600], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.875031019513937], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 52900], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.8818466495299053], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67800], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.9026450194182865], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74200], ["created_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00], ["currency", 0.8509222541862242], ["updated_at", Wed, 17 Sep 2014 15:32:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (8.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 93300], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", 0.938690279397401], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56700], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", 0.8594506113696574], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86400], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", 0.8616109983292751], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.11574074], ["btc_conversion", 86400], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11574074], ["btc_conversion", 86400], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87800], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", 0.8725823756486707], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89100], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", 0.879819940612946], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53200], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", 0.8856456657047355], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.18796992], ["btc_conversion", 53200], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:39 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18796992], ["btc_conversion", 53200], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98800], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.9542988839584807], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 62200], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.981185903391368], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 73600], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.8724897773581703], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.13586957], ["btc_conversion", 73600], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13586957], ["btc_conversion", 73600], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 73600], ["estimated_value", 6793478]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.4ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89100], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.9127803921969331], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 92800], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.875626891520336], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 65300], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.9513419906345139], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.15313936], ["btc_conversion", 65300], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15313936], ["btc_conversion", 65300], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 65300], ["estimated_value", 15313936]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 95100], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.9695899127933576], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86200], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.9427678445884333], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 93200], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.9197220230212558], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10729614], ["btc_conversion", 93200], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10729614], ["btc_conversion", 93200], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 1], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 1.0], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 93200], ["estimated_value", 5364807]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 90000], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.8969108653415819], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 62400], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.9436501102217938], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77500], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.8881578663618269], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.12903226], ["btc_conversion", 77500], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.12903226], ["btc_conversion", 77500], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50200], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.8858662544392836], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85900], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.8890197019679372], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70500], ["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["currency", 0.9080088766184388], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.6ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.14184397], ["btc_conversion", 70500], ["created_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.14184397], ["btc_conversion", 70500], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 70500], ["estimated_value", 7092198]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 70500], ["estimated_value", 7092198]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57900], ["created_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00], ["currency", 0.9497880481174686], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85500], ["created_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00], ["currency", 0.9420409151052977], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 84600], ["created_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00], ["currency", 0.9498420187299125], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 89200], ["created_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00], ["currency", 0.9198831699788137], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94700], ["created_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00], ["currency", 0.8662187622100647], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 77600], ["created_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00], ["currency", 0.9755886523951509], ["updated_at", Sun, 21 Sep 2014 23:57:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60500], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.9041729307506672], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97700], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.9789325186728656], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53400], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.8558062422805038], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.18726592], ["btc_conversion", 53400], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18726592], ["btc_conversion", 53400], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 88100], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.9468636391227168], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 66000], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.9736783133369789], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 64900], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.8641817643190208], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.1540832], ["btc_conversion", 64900], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1540832], ["btc_conversion", 64900], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.3ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 59400], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.9134096358506476], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97000], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.8885687948824631], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 60000], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.9509105665162322], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.16666667], ["btc_conversion", 60000], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.16666667], ["btc_conversion", 60000], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 60000], ["estimated_value", 8333333]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57900], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.8821562550663071], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94200], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.8621579386490792], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 75000], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", 0.9268061901845828], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.13333333], ["btc_conversion", 75000], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:38 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.13333333], ["btc_conversion", 75000], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 75000], ["estimated_value", 13333333]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 97900], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.8638290960326688], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68000], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9437642646061478], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85200], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9169528816047717], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11737089], ["btc_conversion", 85200], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11737089], ["btc_conversion", 85200], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 1], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 1.0], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 85200], ["estimated_value", 5868544]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.3ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 75400], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.8804169375789782], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 56800], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9216516414899361], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56400], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9050517392289745], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.17730496], ["btc_conversion", 56400], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17730496], ["btc_conversion", 56400], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72000], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.8830097470754291], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61500], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9658450128553252], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96700], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9028706562590322], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (1.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.4ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10341262], ["btc_conversion", 96700], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10341262], ["btc_conversion", 96700], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 96700], ["estimated_value", 5170631]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 96700], ["estimated_value", 5170631]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35mWidget Load (0.1ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78000], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9072835102019192], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70300], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9649155208855762], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80400], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9314702210182557], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73300], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9471039016512816], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 69700], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.8544542446527806], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67900], ["created_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00], ["currency", 0.9741821307989779], ["updated_at", Sun, 21 Sep 2014 23:58:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90800], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.8560324192661308], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 84800], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9555794052970998], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 63900], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9483904609474993], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.15649452], ["btc_conversion", 63900], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15649452], ["btc_conversion", 63900], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 66500], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.8937722040955116], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 91800], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9331608006587067], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 57400], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9626632846120168], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.17421603], ["btc_conversion", 57400], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.17421603], ["btc_conversion", 57400], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87700], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9204014857120832], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 81700], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9119908720837893], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98200], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.8953536017631797], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10183299], ["btc_conversion", 98200], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10183299], ["btc_conversion", 98200], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 98200], ["estimated_value", 5091649]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 83100], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9864280024298191], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 61300], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9122828897495036], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 53700], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9482541467363239], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.18621974], ["btc_conversion", 53700], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.18621974], ["btc_conversion", 53700], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 53700], ["estimated_value", 18621974]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86000], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.8813532634990858], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 80100], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9888040293957778], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 94700], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9404097711076229], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10559662], ["btc_conversion", 94700], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10559662], ["btc_conversion", 94700], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 1], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 1.0], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 94700], ["estimated_value", 5279831]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 63400], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9245354934212412], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 70600], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9063732637460112], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 92300], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9256879176246863], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10834236], ["btc_conversion", 92300], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10834236], ["btc_conversion", 92300], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 82500], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9734048587926631], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 54900], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9017208277447001], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 99100], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", 0.9240165840157156], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.6ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10090817], ["btc_conversion", 99100], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["updated_at", Sun, 21 Sep 2014 23:58:59 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10090817], ["btc_conversion", 99100], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 99100], ["estimated_value", 5045408]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 99100], ["estimated_value", 5045408]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00]]
  [1m[35mWidget Load (0.2ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 87000], ["created_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00], ["currency", 0.872820135095354], ["updated_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51500], ["created_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00], ["currency", 0.9809654352486645], ["updated_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94400], ["created_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00], ["currency", 0.9701082558498123], ["updated_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 82400], ["created_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00], ["currency", 0.8853903375899407], ["updated_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 78300], ["created_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00], ["currency", 0.9487441551937695], ["updated_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 70800], ["created_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00], ["currency", 0.8908360269856043], ["updated_at", Sun, 21 Sep 2014 23:59:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 94900], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", 0.9533798101311923], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 73500], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", 0.9009184671167008], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 91000], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", 0.9016501827381691], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.10989011], ["btc_conversion", 91000], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10989011], ["btc_conversion", 91000], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 67600], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", 0.9595144497451759], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 67100], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", 0.9849911490992689], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 50000], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", 0.9835745998882803], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.2], ["btc_conversion", 50000], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:25 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.2], ["btc_conversion", 50000], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.5ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 72300], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9626333366439729], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 61500], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9378466217006186], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98100], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9087084717679019], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.1019368], ["btc_conversion", 98100], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1019368], ["btc_conversion", 98100], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 98100], ["estimated_value", 5096840]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 85600], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9023334006939339], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 98500], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.940477306567212], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 84900], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.8646245700082595], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.11778563], ["btc_conversion", 84900], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.11778563], ["btc_conversion", 84900], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)[0m  [["bitcoin_payment_id", 1], ["btc_conversion", 84900], ["estimated_value", 11778563]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.4ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "paid_in_full"], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36mWidget Load (0.2ms)[0m  [1mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 86200], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.8658257256409364], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 68500], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9852581127207934], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 99000], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.922939276054629], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.1010101], ["btc_conversion", 99000], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.1010101], ["btc_conversion", 99000], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 1], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 1.0], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 99000], ["estimated_value", 5050505]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 74600], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9317969565031435], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 89400], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.8771454277329241], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 95500], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9642978428525957], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.2ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["btc_amount_due", 0.10471204], ["btc_conversion", 95500], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.10471204], ["btc_conversion", 95500], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 96600], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9711953660563826], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 84300], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9662908543466218], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 65100], ["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["currency", 0.9710903135745949], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "widgets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.5ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  SELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "bitcoin_payments" ("btc_amount_due", "btc_conversion", "created_at", "currency", "payable_id", "payable_type", "price", "reason", "state", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["btc_amount_due", 0.15360983], ["btc_conversion", 65100], ["created_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00], ["currency", :cad], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["state", "pending"], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "bitcoin_payments" SET "state" = ?, "payable_id" = ?, "payable_type" = ?, "price" = ?, "reason" = ?, "created_at" = ?, "updated_at" = ?, "currency" = ?, "btc_amount_due" = ?, "btc_conversion" = ?, "id" = ?, "address" = ? WHERE "bitcoin_payments"."id" = 1  [["state", "pending"], ["payable_id", 1], ["payable_type", "Widget"], ["price", 10000], ["reason", "New"], ["created_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00], ["currency", :cad], ["btc_amount_due", 0.15360983], ["btc_conversion", 65100], ["id", 1], ["address", "n3Y9hm8hzsrE8bzy83zHQEpLmxMLup967N"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::CurrencyConversion Load (0.1ms)[0m  [1mSELECT "currency_conversions".* FROM "currency_conversions" ORDER BY "currency_conversions"."id" DESC LIMIT 1[0m
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 65100], ["estimated_value", 7680491]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "partial_payment"], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  [1mSELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  SELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?  [["bitcoin_payment_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "bitcoin_payment_transactions" ("bitcoin_payment_id", "btc_conversion", "estimated_value") VALUES (?, ?, ?)  [["bitcoin_payment_id", 1], ["btc_conversion", 65100], ["estimated_value", 7680491]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.2ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."state" IN ('pending', 'partial_payment')
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.2ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "bitcoin_payments" SET "state" = ?, "updated_at" = ? WHERE "bitcoin_payments"."id" = 1[0m  [["state", "paid_in_full"], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00]]
  [1m[35mWidget Load (0.1ms)[0m  SELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBitcoinPayable::BitcoinPayment Load (0.1ms)[0m  SELECT "bitcoin_payments".* FROM "bitcoin_payments" WHERE "bitcoin_payments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBitcoinPayable::BitcoinPaymentTransaction Load (0.1ms)[0m  [1mSELECT "bitcoin_payment_transactions".* FROM "bitcoin_payment_transactions" WHERE "bitcoin_payment_transactions"."bitcoin_payment_id" = ?[0m  [["bitcoin_payment_id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 90100], ["created_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00], ["currency", 0.9422519158189058], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 57800], ["created_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00], ["currency", 0.9183988930318524], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 53000], ["created_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00], ["currency", 0.9620954469222073], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 51900], ["created_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00], ["currency", 0.9477169105939424], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)[0m  [["btc", 86600], ["created_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00], ["currency", 0.8781091724577144], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "currency_conversions" ("btc", "created_at", "currency", "updated_at") VALUES (?, ?, ?, ?)  [["btc", 56000], ["created_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00], ["currency", 0.9836464727266885], ["updated_at", Mon, 22 Sep 2014 01:20:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "currency_conversions"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
